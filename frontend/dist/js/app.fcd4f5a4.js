(function(e){function t(t){for(var i,r,o=t[0],l=t[1],c=t[2],v=0,d=[];v<o.length;v++)r=o[v],n[r]&&d.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],i=!0,o=1;o<s.length;o++){var l=s[o];0!==n[l]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=s[0]))}return e}var i={},n={app:0},a=[];function r(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=i,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var i=s("1356"),n=s.n(i);n.a},1356:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("097d");var i=s("2b0e"),n=s("bb71");s("da64");i["a"].use(n["a"],{iconfont:"md"});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("header-bar"),e.loginCheck?e._e():s("Login"),e.loginCheck?s("Chat"):e._e(),s("Footer")],1)},r=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-container",[s("v-layout",{staticClass:"text-xs-center",attrs:{row:"","justify-center":""}},[s("v-card",{staticClass:"pa-3",attrs:{flat:"",height:"400",width:"400",color:""}},[s("v-card-title",{attrs:{"primary-title":""}},[s("h2",[e._v("Login")])]),s("v-form",{on:{submit:function(t){e.login()}}},[s("v-text-field",{attrs:{"prepend-icon":"person",autofocus:"",label:"Username"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),s("v-card-actions",[s("v-btn",{attrs:{primary:"",large:"",block:""},on:{click:function(t){e.login()}}},[e._v("Login")])],1)],1)],1)],1)],1)],1)},l=[],c={data:function(){return{userName:""}},methods:{login:function(){this.$session.start(),this.$session.set("userName",this.userName),window.location.reload()}},directives:{focus:{inserted:function(e){e.focus()}}}},u=c,v=s("2877"),d=s("6544"),f=s.n(d),h=s("8336"),m=s("b0af"),p=s("99d9"),g=s("12b2"),_=s("a523"),b=s("4bd4"),L=s("a722"),w=s("2677"),U=Object(v["a"])(u,o,l,!1,null,null,null);U.options.__file="Login.vue";var V=U.exports;f()(U,{VBtn:h["a"],VCard:m["a"],VCardActions:p["a"],VCardTitle:g["a"],VContainer:_["a"],VForm:b["a"],VLayout:L["a"],VTextField:w["a"]});var y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-toolbar",{attrs:{color:"teal lighten-3"}},[s("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),s("v-toolbar-title",[e._v("Chat")]),s("v-spacer")],1),s("v-navigation-drawer",{attrs:{absolute:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("v-list",{staticClass:"pa-1"},[s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-avatar",[s("v-icon",[e._v("person")])],1),s("v-list-tile-content",[s("v-list-tile-title",[e._v(e._s(e.userName))])],1)],1)],1),s("v-list",{staticClass:"pt-0",attrs:{dense:""}},[s("v-divider"),e._l(e.persons,function(t){return s("v-list-tile",{key:t.user,on:{click:function(s){e.selectUser(t.user)}}},[s("v-list-tile-action",[s("v-badge",{attrs:{color:"green"}},[t.user!=e.toUser?s("v-icon",[e._v("person")]):e._e(),t.user==e.toUser?s("v-icon",[e._v("done")]):e._e(),s("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.badges[t.user]))])],1)],1),s("v-list-tile-content",[s("v-list-tile-title",[e._v(e._s(t.user))])],1)],1)}),e.$session.exists()?s("v-list-tile",{on:{click:function(t){e.selectUser("ALL")}}},[s("v-list-tile-action",[s("v-badge",{attrs:{color:"green"}},["ALL"!=e.toUser?s("v-icon",[e._v("cloud")]):e._e(),"ALL"==e.toUser?s("v-icon",[e._v("done")]):e._e(),s("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.badges["ALL"]))])],1)],1),s("v-list-tile-content",[s("v-list-tile-title",[e._v("ALL")])],1)],1):e._e(),e.$session.exists()?s("v-list-tile",{on:{click:function(t){e.logout()}}},[s("v-list-tile-action",[s("v-icon",[e._v("power_settings_new")])],1),s("v-list-tile-content",[s("v-list-tile-title",[e._v("LOGOUT")])],1)],1):e._e()],2)],1)],1)},T=[],N={data:function(){return{drawer:!0,userName:this.$session.get("userName"),toUser:this.$store.getters.getToUser,badges:[],persons:[],temp:null}},sockets:{USERS:function(e){for(var t in this.persons=e,e)this.badges[e[t].user]=0;this.badges["ALL"]=0},COUNT_MESSAGE:function(e){this.toUser!=e&&(this.badges[e]+=1,this.temp=this.badges,this.badges=null,this.badges=this.temp)}},methods:{selectUser:function(e){this.$store.commit("modifyUser",e),this.toUser=this.$store.getters.getToUser,this.badges[this.toUser]=0},logout:function(){this.$session.destroy(),this.$socket.emit("DISCONNECT",{user:this.userName}),window.location.reload()}}},C=N,k=s("4ca6"),x=s("ce7e"),E=s("132d"),S=s("8860"),$=s("ba95"),O=s("40fe"),A=s("c954"),j=s("5d23"),M=s("f774"),D=s("9910"),F=s("71d9"),P=s("706c"),G=s("2a7f"),B=Object(v["a"])(C,y,T,!1,null,null,null);B.options.__file="HeaderBar.vue";var I=B.exports;f()(B,{VBadge:k["a"],VDivider:x["a"],VIcon:E["a"],VList:S["a"],VListTile:$["a"],VListTileAction:O["a"],VListTileAvatar:A["a"],VListTileContent:j["a"],VListTileTitle:j["b"],VNavigationDrawer:M["a"],VSpacer:D["a"],VToolbar:F["a"],VToolbarSideIcon:P["a"],VToolbarTitle:G["a"]});var R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-footer")},H=[],J={},q=J,z=s("553a"),K=Object(v["a"])(q,R,H,!1,null,null,null);K.options.__file="Footer.vue";var Q=K.exports;f()(K,{VFooter:z["a"]});var W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-3"},[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-card",{attrs:{id:"chatBox",height:"500",width:"800"}},[s("h2",[e._v(e._s(e.$store.getters.getToUser))]),s("v-list",e._l(e.messages[e.$store.getters.getToUser],function(t){return s("div",{key:t.date},[s("v-list-tile",[s("v-list-tile-action",[e.userName===t.fromUser?s("span",[e._v("me")]):e._e(),e.userName!==t.fromUser?s("span",[e._v(e._s(t.fromUser))]):e._e()]),s("v-list-tile-content",[s("v-list-tile-title",[e._v(e._s(t.message))])],1)],1),s("v-divider",{attrs:{inset:""}})],1)}),0)],1)],1),s("Message")],1)},X=[],Y=s("2909"),Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-card",{attrs:{width:"800"}},[s("v-text-field",{attrs:{height:"70","append-icon":"send",box:"","clear-icon":"clear",clearable:"",type:"text"},on:{"click:append":e.sendMessage,"click:clear":function(t){e.message=""}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)],1)},ee=[],te={data:function(){return{userName:this.$session.get("userName"),message:""}},methods:{sendMessage:function(){this.$socket.emit("SEND_MESSAGE",{fromUser:this.userName,message:this.message,toUser:this.$store.getters.getToUser,date:new Date}),this.message=""}}},se=te,ie=Object(v["a"])(se,Z,ee,!1,null,null,null);ie.options.__file="Message.vue";var ne=ie.exports;f()(ie,{VCard:m["a"],VLayout:L["a"],VTextField:w["a"]});var ae={data:function(){return{messages:{ALL:[]},temp:null,socket:this.$socket,userName:this.$session.get("userName")}},components:{Message:ne},sockets:{USERS:function(e){for(var t in e)this.messages[e[t].user]=[]},RECEIVE_MESSAGE:function(e){this.messages[e.fromUser]=[].concat(Object(Y["a"])(this.messages[e.fromUser]),[e]),this.temp=this.messages,this.messages=null,this.messages=this.temp},SENDED_MESSAGE:function(e){this.messages[e.toUser]=[].concat(Object(Y["a"])(this.messages[e.toUser]),[e]),this.temp=this.messages,this.messages=null,this.messages=this.temp},ALL_MESSAGE:function(e){this.messages["ALL"]=[].concat(Object(Y["a"])(this.messages["ALL"]),[e]),this.temp=this.messages,this.messages=null,this.messages=this.temp}},mounted:function(){var e=this;this.socket.emit("CONNECT",{user:this.userName}),window.onbeforeunload=function(){e.socket.emit("DISCONNECT",{user:e.userName})}}},re=ae,oe=(s("f196"),Object(v["a"])(re,W,X,!1,null,null,null));oe.options.__file="Chat.vue";var le=oe.exports;f()(oe,{VCard:m["a"],VDivider:x["a"],VLayout:L["a"],VList:S["a"],VListTile:$["a"],VListTileAction:O["a"],VListTileContent:j["a"],VListTileTitle:j["b"]});var ce={name:"app",data:function(){return{}},components:{Login:V,HeaderBar:I,Footer:Q,Chat:le},computed:{loginCheck:function(){return this.$session.exists()}}},ue=ce,ve=(s("034f"),Object(v["a"])(ue,a,r,!1,null,null,null));ve.options.__file="App.vue";var de=ve.exports,fe=s("5132"),he=s.n(fe),me=s("0628"),pe=s.n(me),ge=s("2f62");i["a"].use(pe.a),i["a"].use(ge["a"]);var _e=new ge["a"].Store({state:{toUser:"ALL"},getters:{getToUser:function(e){return e.toUser}},mutations:{modifyUser:function(e,t){e.toUser=t}}});i["a"].use(new he.a({debug:!0,connection:"http://localhost:8000"})),i["a"].config.productionTip=!1,new i["a"]({store:_e,render:function(e){return e(de)}}).$mount("#app")},9574:function(e,t,s){},f196:function(e,t,s){"use strict";var i=s("9574"),n=s.n(i);n.a}});
//# sourceMappingURL=app.fcd4f5a4.js.map